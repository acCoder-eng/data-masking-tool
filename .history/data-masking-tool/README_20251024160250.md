# Data Masking & Anonymization Tool

A comprehensive Spring Boot application for GDPR/KVKK compliant data masking and anonymization. This tool provides secure and flexible data masking capabilities for various types of Personally Identifiable Information (PII).

## 🚀 Features

### Core Capabilities
- **Multiple PII Types Support**: Email, phone numbers, Turkish National ID (TC Kimlik No), credit cards, names, addresses, and more
- **Flexible Masking Strategies**: Asterisk, random, hash, placeholder, partial, and format-preserving encryption
- **Batch Processing**: Handle large datasets efficiently
- **Configurable Rules**: Customize masking behavior per PII type
- **GDPR/KVKK Compliance**: Built with privacy regulations in mind
- **RESTful API**: Easy integration with existing systems
- **Interactive Documentation**: Swagger/OpenAPI documentation
- **Security**: Basic authentication and authorization

### Supported PII Types
- 📧 **Email Addresses**
- 📞 **Phone Numbers** (various formats)
- 🆔 **Turkish National ID** (TC Kimlik No)
- 💳 **Credit Card Numbers**
- 🏠 **Physical Addresses**
- 👤 **Names** (full, first, last)
- 📅 **Date of Birth**
- 🌐 **IP Addresses**
- 🏦 **Bank Account Numbers**
- 📄 **Passport Numbers**
- 🚗 **Driver's License Numbers**
- 📝 **Generic Text and Numeric Data**

### Masking Strategies
- **Asterisk (*)**: Replace with asterisks while preserving format
- **Random**: Replace with random characters of same type
- **Placeholder**: Replace with custom placeholder text
- **Hash**: One-way transformation using SHA-256
- **Nullify**: Replace with null or empty string
- **Partial**: Show first/last characters, mask middle
- **Format Preserving**: Maintain original format with encrypted data

## 🛠️ Technology Stack

- **Java 17**
- **Spring Boot 3.5.7**
- **Spring Data JPA**
- **Spring Security**
- **H2 Database** (development)
- **MySQL/PostgreSQL** (production ready)
- **Lombok**
- **Swagger/OpenAPI 3**
- **Apache Commons**
- **Maven**

## 📋 Prerequisites

- Java 17 or higher
- Maven 3.6 or higher
- Git

## 🚀 Quick Start

### 1. Clone the Repository
```bash
git clone <repository-url>
cd data-masking-tool
```

### 2. Build the Application
```bash
mvn clean install
```

### 3. Run the Application
```bash
mvn spring-boot:run
```

### 4. Access the Application
- **Application**: http://localhost:8080
- **Swagger UI**: http://localhost:8080/swagger-ui.html
- **API Docs**: http://localhost:8080/api-docs
- **H2 Console**: http://localhost:8080/h2-console

### 5. Default Credentials
- **Username**: admin
- **Password**: admin123

## 📖 API Documentation

### Base URL
```
http://localhost:8080/api/v1/masking
```

### Key Endpoints

#### Mask Single Data
```http
POST /api/v1/masking/mask
Content-Type: application/json
Authorization: Basic YWRtaW46YWRtaW4xMjM=

{
  "data": "john.doe@example.com",
  "piiType": "EMAIL",
  "strategy": "ASTERISK",
  "preserveFormat": true
}
```

#### Get Available PII Types
```http
GET /api/v1/masking/pii-types
```

#### Get Masking Strategies
```http
GET /api/v1/masking/strategies
```

#### Get Masking Rules
```http
GET /api/v1/masking/rules
```

#### Health Check
```http
GET /api/v1/masking/health
```

## 🔧 Configuration

### Application Properties
The application uses `application.properties` for configuration:

```properties
# Server Configuration
server.port=8080

# Database Configuration (H2 for development)
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.username=sa
spring.datasource.password=password

# Security Configuration
spring.security.user.name=admin
spring.security.user.password=admin123
spring.security.user.roles=ADMIN

# Swagger Configuration
springdoc.swagger-ui.enabled=true
springdoc.api-docs.path=/api-docs
```

### Database Configuration
The application supports multiple databases:

- **H2** (default for development)
- **MySQL** (production ready)
- **PostgreSQL** (production ready)

To switch databases, update the `application.properties` file:

```properties
# For MySQL
spring.datasource.url=jdbc:mysql://localhost:3306/datamasking
spring.datasource.username=your_username
spring.datasource.password=your_password
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# For PostgreSQL
spring.datasource.url=jdbc:postgresql://localhost:5432/datamasking
spring.datasource.username=your_username
spring.datasource.password=your_password
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
```

## 🏗️ Project Structure

```
src/
├── main/
│   ├── java/com/datamasking/tool/
│   │   ├── config/           # Configuration classes
│   │   │   ├── CorsConfig.java
│   │   │   ├── DataSeeder.java
│   │   │   ├── SecurityConfig.java
│   │   │   └── SwaggerConfig.java
│   │   ├── controller/       # REST controllers
│   │   │   └── MaskingController.java
│   │   ├── dto/             # Data Transfer Objects
│   │   │   ├── MaskingRequest.java
│   │   │   └── MaskingResponse.java
│   │   ├── model/           # Entity models
│   │   │   ├── MaskingJob.java
│   │   │   ├── MaskingRule.java
│   │   │   ├── MaskingStrategy.java
│   │   │   └── PiiType.java
│   │   ├── repository/       # Data access layer
│   │   │   ├── MaskingJobRepository.java
│   │   │   └── MaskingRuleRepository.java
│   │   ├── service/         # Business logic
│   │   │   └── MaskingService.java
│   │   └── DataMaskingToolApplication.java
│   └── resources/
│       ├── application.properties
│       ├── static/
│       └── templates/
└── test/                    # Test classes
    └── java/com/datamasking/tool/
        ├── controller/
        ├── service/
        └── DataMaskingToolApplicationTests.java
```

## 🧪 Testing

### Run Tests
```bash
mvn test
```

### Test Coverage
The project includes comprehensive tests for:
- Unit tests for service layer
- Integration tests for controllers
- Security configuration tests

## 🔒 Security

### Authentication
- Basic HTTP authentication
- Configurable username/password
- Role-based access control

### Security Features
- CORS configuration
- CSRF protection (disabled for API)
- Frame options security
- Input validation

### Security Configuration
```java
@Configuration
@EnableWebSecurity
public class SecurityConfig {
    // Security rules and authentication setup
}
```

## 📊 Monitoring and Health Checks

### Actuator Endpoints
- **Health**: `/actuator/health`
- **Info**: `/actuator/info`
- **Metrics**: `/actuator/metrics`

### Custom Health Check
```http
GET /api/v1/masking/health
```

## 🚀 Deployment

### Docker Deployment
```dockerfile
FROM openjdk:17-jdk-slim
COPY target/data-masking-tool-0.0.1-SNAPSHOT.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "/app.jar"]
```

### Production Configuration
1. Update database configuration
2. Configure security settings
3. Set up monitoring
4. Configure logging levels

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests for new functionality
5. Submit a pull request

## 📝 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🆘 Support

For support and questions:
- Create an issue in the repository
- Contact: support@datamasking.com
- Documentation: https://datamasking.com/docs

## 🔄 Version History

- **v1.0.0** - Initial release with core masking functionality
- **v1.1.0** - Added batch processing capabilities
- **v1.2.0** - Enhanced security and monitoring features

## 📚 Additional Resources

- [Spring Boot Documentation](https://spring.io/projects/spring-boot)
- [GDPR Compliance Guide](https://gdpr.eu/)
- [KVKK Compliance Guide](https://kvkk.gov.tr/)
- [Data Masking Best Practices](https://datamasking.com/best-practices)

---

**Note**: This tool is designed for development and testing purposes. For production use, ensure proper security configuration and compliance with your organization's data protection policies.